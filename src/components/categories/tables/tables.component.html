
<div class="space-y-12">
  <header>
    <h1 class="text-3xl font-bold text-slate-900 dark:text-slate-100">Tables</h1>
    <p class="mt-2 text-lg text-slate-500 dark:text-slate-400">For organizing and displaying sets of data.</p>
  </header>

  <section class="space-y-6">
    <h2 class="text-xl font-semibold border-b border-slate-200 dark:border-slate-700 pb-2 text-slate-800 dark:text-slate-200">Data Table</h2>
    <div class="p-8 bg-white dark:bg-slate-900 rounded-lg">
      <div class="overflow-x-auto">
        <div class="inline-block min-w-full align-middle">
          <div class="overflow-hidden shadow ring-1 ring-black ring-opacity-5 dark:ring-slate-700 rounded-lg">
            <table class="min-w-full divide-y divide-slate-200 dark:divide-slate-700">
              <thead class="bg-slate-50 dark:bg-slate-800">
                <tr>
                  <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100 sm:pl-6">Name</th>
                  <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-slate-900 dark:text-slate-100">Title</th>
                  <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-slate-900 dark:text-slate-100">Status</th>
                  <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-slate-900 dark:text-slate-100">Role</th>
                  <th scope="col" class="relative py-3.5 pl-3 pr-4 sm:pr-6">
                    <span class="sr-only">Edit</span>
                  </th>
                </tr>
              </thead>
              <tbody class="divide-y divide-slate-200 dark:divide-slate-800 bg-white dark:bg-slate-900">
                @for (user of users.slice(0, 6); track user.email) {
                  <tr class="hover:bg-slate-50 dark:hover:bg-slate-800/50">
                    <td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-6">
                      <div class="flex items-center">
                        <div class="ml-4">
                          <div class="font-medium text-slate-900 dark:text-slate-100">{{ user.name }}</div>
                          <div class="text-slate-500 dark:text-slate-400">{{ user.email }}</div>
                        </div>
                      </div>
                    </td>
                    <td class="whitespace-nowrap px-3 py-4 text-sm text-slate-500 dark:text-slate-400">
                      <div class="text-slate-900 dark:text-slate-100">{{ user.title }}</div>
                      <div class="text-slate-500">{{ user.team }}</div>
                    </td>
                    <td class="whitespace-nowrap px-3 py-4 text-sm text-slate-500 dark:text-slate-400">
                      @if (user.status === 'Active') {
                        <span class="inline-flex rounded-full bg-green-100 dark:bg-green-500/10 px-2 text-xs font-semibold leading-5 text-green-800 dark:text-green-400">Active</span>
                      } @else {
                        <span class="inline-flex rounded-full bg-red-100 dark:bg-red-500/10 px-2 text-xs font-semibold leading-5 text-red-800 dark:text-red-400">Inactive</span>
                      }
                    </td>
                    <td class="whitespace-nowrap px-3 py-4 text-sm text-slate-500 dark:text-slate-400">{{ user.role }}</td>
                    <td class="relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6">
                      <a href="#" class="text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300">Edit<span class="sr-only">, {{ user.name }}</span></a>
                    </td>
                  </tr>
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ADVANCED TABLE -->
  <section class="space-y-6">
    <h2 class="text-xl font-semibold border-b border-slate-200 dark:border-slate-700 pb-2 text-slate-800 dark:text-slate-200">Advanced Table with Sort, Filter & Pagination</h2>
    <div class="p-8 bg-white dark:bg-slate-900 rounded-lg space-y-4">
      <div class="flex justify-end">
        <div class="relative">
          <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
            <svg class="h-5 w-5 text-slate-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd" />
            </svg>
          </div>
          <input 
            type="search"
            (input)="onSearch($event)"
            placeholder="Filter users..." 
            [class]="'block w-full max-w-sm rounded-md border-0 bg-slate-100 dark:bg-slate-800 py-2 pl-10 pr-3 text-slate-900 dark:text-slate-300 ring-1 ring-inset ring-slate-300 dark:ring-slate-700 placeholder:text-slate-400 dark:placeholder:text-slate-400 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 ' + focusRingClass()">
        </div>
      </div>
      <div class="overflow-x-auto">
        <div class="inline-block min-w-full align-middle">
          <div class="overflow-hidden shadow ring-1 ring-black ring-opacity-5 dark:ring-slate-700 rounded-lg">
            <table class="min-w-full divide-y divide-slate-200 dark:divide-slate-700">
              <thead class="bg-slate-50 dark:bg-slate-800">
                <tr>
                  @for(col of (['name', 'title', 'status', 'role']); track col) {
                    <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100 sm:pl-6">
                      <button (click)="requestSort(col)" class="group inline-flex items-center gap-1">
                        <span class="capitalize">{{ col }}</span>
                        @if (sortConfig()?.key === col) {
                          <svg class="h-4 w-4" [class.rotate-180]="sortConfig()?.direction === 'desc'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                          </svg>
                        } @else {
                          <svg class="h-4 w-4 text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9" /></svg>
                        }
                      </button>
                    </th>
                  }
                </tr>
              </thead>
              <tbody 
                class="divide-y divide-slate-200 dark:divide-slate-800 bg-white dark:bg-slate-900 transition-all duration-300 ease-in-out"
                [class.opacity-40]="isUpdating()"
                [class.blur-sm]="isUpdating()">
                @for (user of paginatedUsers(); track user.email) {
                  <tr class="hover:bg-slate-50 dark:hover:bg-slate-800/50">
                    <td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-6">
                      <div class="font-medium text-slate-900 dark:text-slate-100">{{ user.name }}</div>
                      <div class="text-slate-500 dark:text-slate-400">{{ user.email }}</div>
                    </td>
                    <td class="whitespace-nowrap px-3 py-4 text-sm text-slate-500 dark:text-slate-400">
                      <div class="text-slate-900 dark:text-slate-100">{{ user.title }}</div>
                      <div class="text-slate-500">{{ user.team }}</div>
                    </td>
                    <td class="whitespace-nowrap px-3 py-4 text-sm text-slate-500 dark:text-slate-400">
                      @if (user.status === 'Active') {
                        <span class="inline-flex rounded-full bg-green-100 dark:bg-green-500/10 px-2 text-xs font-semibold leading-5 text-green-800 dark:text-green-400">Active</span>
                      } @else {
                        <span class="inline-flex rounded-full bg-red-100 dark:bg-red-500/10 px-2 text-xs font-semibold leading-5 text-red-800 dark:text-red-400">Inactive</span>
                      }
                    </td>
                    <td class="whitespace-nowrap px-3 py-4 text-sm text-slate-500 dark:text-slate-400">{{ user.role }}</td>
                  </tr>
                } @empty {
                  <tr>
                    <td colspan="4" class="text-center py-12 text-slate-500 dark:text-slate-400">
                      No users found.
                    </td>
                  </tr>
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <app-pagination 
        class="mt-6"
        [currentPage]="currentPage()" 
        [totalItems]="totalItems()"
        [itemsPerPage]="itemsPerPage()"
        (pageChange)="onPageChange($event)">
      </app-pagination>
    </div>
  </section>
</div>