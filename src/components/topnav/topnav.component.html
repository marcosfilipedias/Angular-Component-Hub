
<nav class="bg-white/80 dark:bg-slate-900/75 backdrop-blur border-b border-slate-200 dark:border-slate-800 p-4 flex justify-between items-center fixed top-0 left-0 right-0 z-40 h-16 gap-4">
  <div class="flex items-center gap-4 flex-shrink-0">
    <button (click)="onToggleSidebar()" type="button" class="p-2 rounded-md text-slate-500 dark:text-slate-400 lg:hidden">
      <span class="sr-only">Open sidebar</span>
      <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-1.65 5.25h16.5" />
      </svg>
    </button>
    <svg class="w-8 h-8 text-indigo-500 hidden sm:block" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3 5.571-3m-11.142 0L12 15.25l5.571-3m-11.142 0L12 6.75 17.571 9.75M12 15.25v5.25m-4.5-15.75l-1.423-1.423A2.25 2.25 0 017.5 4.5h9a2.25 2.25 0 011.591 3.841l-1.423 1.423M4.5 18.75l-1.423 1.423A2.25 2.25 0 004.5 22.5h15a2.25 2.25 0 001.591-3.841l-1.423-1.423" />
    </svg>
    <h1 class="text-xl font-bold text-slate-900 dark:text-slate-100 hidden md:block">Angular Component Hub</h1>
  </div>
  
  <div class="flex-1 max-w-xl">
    <div class="relative">
      <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
        <svg class="h-5 w-5 text-slate-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd" />
        </svg>
      </div>
      <input 
        type="search"
        (input)="onSearch($event)"
        placeholder="Search components..." 
        [class]="'block w-full rounded-md border-0 bg-slate-100 dark:bg-slate-800 py-2 pl-10 pr-3 text-slate-900 dark:text-slate-300 ring-1 ring-inset ring-slate-300 dark:ring-slate-700 placeholder:text-slate-400 dark:placeholder:text-slate-400 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 ' + focusRingClass()">
    </div>
  </div>

  <div class="flex items-center gap-4">
    <button (click)="toggleTheme()" [attr.aria-label]="'Toggle ' + (themeService.theme() === 'dark' ? 'light' : 'dark') + ' mode'" class="p-2 rounded-full text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-900" [class]="focusRingClass()">
        <span class="sr-only">Toggle theme</span>
        @if(themeService.theme() === 'dark') {
            <svg class="w-6 h-6 text-amber-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.95-4.243l-1.59-1.59M3 12H.75m1.591-6.364l1.59 1.59M12 12a4.5 4.5 0 00-4.5 4.5 4.5 4.5 0 004.5 4.5 4.5 4.5 0 004.5-4.5 4.5 4.5 0 00-4.5-4.5z" /></svg>
        } @else {
            <svg class="w-6 h-6 text-slate-600" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" /></svg>
        }
    </button>
    <div class="flex items-center gap-2">
      @for(color of colors; track color.name) {
        <button 
          (click)="changeTheme(color.name)" 
          [class]="'w-6 h-6 rounded-full transition-transform duration-200 ' + color.class + (themeService.primaryColor() === color.name ? ' ring-2 ring-offset-2 ring-offset-white dark:ring-offset-slate-900 ring-white scale-110' : ' hover:scale-110')"
          [attr.aria-label]="'Set theme to ' + color.name">
        </button>
      }
    </div>
  </div>
</nav>